{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ageno\\\\OneDrive\\\\Agenor Fernandes\\\\Katmon\\\\frontend\\\\src\\\\contexts\\\\LocationContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LocationContext = /*#__PURE__*/createContext();\nexport const LocationProvider = ({\n  children\n}) => {\n  _s();\n  const [userLocation, setUserLocation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const getUserLocation = () => {\n      if (navigator.geolocation) {\n        setLoading(true);\n        setError(null);\n        navigator.geolocation.getCurrentPosition(position => {\n          setUserLocation({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n            accuracy: position.coords.accuracy\n          });\n          setLoading(false);\n        }, error => {\n          console.error('Erro ao obter localização:', error);\n          setError({\n            code: error.code,\n            message: getLocationErrorMessage(error.code)\n          });\n          setLoading(false);\n        }, {\n          enableHighAccuracy: true,\n          timeout: 15000,\n          maximumAge: 10000\n        });\n      } else {\n        setError({\n          code: 0,\n          message: 'Geolocalização não é suportada por este navegador.'\n        });\n        setLoading(false);\n      }\n    };\n    getUserLocation();\n\n    // Configurar monitoramento contínuo da localização\n    const watchId = navigator.geolocation.watchPosition(position => {\n      setUserLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy\n      });\n      setLoading(false);\n      setError(null);\n    }, error => {\n      console.error('Erro ao monitorar localização:', error);\n      setError({\n        code: error.code,\n        message: getLocationErrorMessage(error.code)\n      });\n    }, {\n      enableHighAccuracy: true,\n      timeout: 15000,\n      maximumAge: 10000\n    });\n\n    // Limpar monitoramento ao desmontar\n    return () => {\n      navigator.geolocation.clearWatch(watchId);\n    };\n  }, []);\n\n  // Função para obter mensagem de erro\n  const getLocationErrorMessage = errorCode => {\n    switch (errorCode) {\n      case 1:\n        return 'Permissão de localização negada. Por favor, permita o acesso à sua localização para usar todas as funcionalidades do aplicativo.';\n      case 2:\n        return 'Localização indisponível no momento. Verifique se o GPS está ativado e tente novamente.';\n      case 3:\n        return 'Tempo esgotado ao obter localização. Tente novamente.';\n      default:\n        return 'Erro desconhecido ao obter localização.';\n    }\n  };\n\n  // Função para solicitar localização novamente\n  const refreshLocation = () => {\n    if (navigator.geolocation) {\n      setLoading(true);\n      navigator.geolocation.getCurrentPosition(position => {\n        setUserLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy\n        });\n        setLoading(false);\n        setError(null);\n      }, error => {\n        console.error('Erro ao obter localização:', error);\n        setError({\n          code: error.code,\n          message: getLocationErrorMessage(error.code)\n        });\n        setLoading(false);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 15000,\n        maximumAge: 0 // Sempre obter nova localização\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LocationContext.Provider, {\n    value: {\n      userLocation,\n      loading,\n      error,\n      refreshLocation\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationProvider, \"83EJim7JE0NWkbsNlxox0s6CATw=\");\n_c = LocationProvider;\nvar _c;\n$RefreshReg$(_c, \"LocationProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","LocationContext","LocationProvider","children","_s","userLocation","setUserLocation","loading","setLoading","error","setError","getUserLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","accuracy","console","code","message","getLocationErrorMessage","enableHighAccuracy","timeout","maximumAge","watchId","watchPosition","clearWatch","errorCode","refreshLocation","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ageno/OneDrive/Agenor Fernandes/Katmon/frontend/src/contexts/LocationContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\nexport const LocationContext = createContext();\n\nexport const LocationProvider = ({ children }) => {\n  const [userLocation, setUserLocation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    const getUserLocation = () => {\n      if (navigator.geolocation) {\n        setLoading(true);\n        setError(null);\n        \n        navigator.geolocation.getCurrentPosition(\n          (position) => {\n            setUserLocation({\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude,\n              accuracy: position.coords.accuracy\n            });\n            setLoading(false);\n          },\n          (error) => {\n            console.error('Erro ao obter localização:', error);\n            setError({\n              code: error.code,\n              message: getLocationErrorMessage(error.code)\n            });\n            setLoading(false);\n          },\n          {\n            enableHighAccuracy: true,\n            timeout: 15000,\n            maximumAge: 10000\n          }\n        );\n      } else {\n        setError({\n          code: 0,\n          message: 'Geolocalização não é suportada por este navegador.'\n        });\n        setLoading(false);\n      }\n    };\n    \n    getUserLocation();\n    \n    // Configurar monitoramento contínuo da localização\n    const watchId = navigator.geolocation.watchPosition(\n      (position) => {\n        setUserLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy\n        });\n        setLoading(false);\n        setError(null);\n      },\n      (error) => {\n        console.error('Erro ao monitorar localização:', error);\n        setError({\n          code: error.code,\n          message: getLocationErrorMessage(error.code)\n        });\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 15000,\n        maximumAge: 10000\n      }\n    );\n    \n    // Limpar monitoramento ao desmontar\n    return () => {\n      navigator.geolocation.clearWatch(watchId);\n    };\n  }, []);\n  \n  // Função para obter mensagem de erro\n  const getLocationErrorMessage = (errorCode) => {\n    switch (errorCode) {\n      case 1:\n        return 'Permissão de localização negada. Por favor, permita o acesso à sua localização para usar todas as funcionalidades do aplicativo.';\n      case 2:\n        return 'Localização indisponível no momento. Verifique se o GPS está ativado e tente novamente.';\n      case 3:\n        return 'Tempo esgotado ao obter localização. Tente novamente.';\n      default:\n        return 'Erro desconhecido ao obter localização.';\n    }\n  };\n  \n  // Função para solicitar localização novamente\n  const refreshLocation = () => {\n    if (navigator.geolocation) {\n      setLoading(true);\n      \n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setUserLocation({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n            accuracy: position.coords.accuracy\n          });\n          setLoading(false);\n          setError(null);\n        },\n        (error) => {\n          console.error('Erro ao obter localização:', error);\n          setError({\n            code: error.code,\n            message: getLocationErrorMessage(error.code)\n          });\n          setLoading(false);\n        },\n        {\n          enableHighAccuracy: true,\n          timeout: 15000,\n          maximumAge: 0 // Sempre obter nova localização\n        }\n      );\n    }\n  };\n  \n  return (\n    <LocationContext.Provider\n      value={{\n        userLocation,\n        loading,\n        error,\n        refreshLocation\n      }}\n    >\n      {children}\n    </LocationContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}